(this["webpackJsonpreact-three-chair"]=this["webpackJsonpreact-three-chair"]||[]).push([[0],{47:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var n=c(6),o=c.n(n),r=c(22),i=c.n(r),s=c(11),a=c(9),j=c(18),h=(c(47),c(17)),l=c(56),d=c(57),b=c(55),p=c(41),O=c.n(p),u=c(36),f=c(43),g=c(10),m=["children","offset","factor"];function x(e){var t=e.url,c=Object(l.a)(t,!0);return Object(g.jsx)("primitive",{object:c.scene,dispose:null})}var v={sections:3,pages:3,zoom:1,top:Object(n.createRef)()},w=Object(n.createContext)(0);function y(e){var t=e.children,c=e.offset,o=e.factor,r=Object(j.a)(e,m),i=function(){var e=v.sections,t=v.pages,c=v.zoom,o=Object(h.d)(),r=o.size,i=o.viewport,s=Object(n.useContext)(w),a=i.width,j=i.height,l=a/c,d=j/c,b=r.width<700,p=l*(b?.2:.1),O=l*(b?.8:.6),u=d*((t-1)/(e-1));return{aspect:r.height/j,viewport:i,offset:s,viewportWidth:a,viewportHeight:j,canvasWidth:l,canvasHeight:d,mobile:b,margin:p,contentMaxWidth:O,sectionHeight:u}}(),s=i.offset,l=i.sectionHeight,d=i.aspect,b=Object(n.useRef)();return c=void 0!==c?c:s,Object(h.b)((function(){var e=b.current.position.y,t=v.top.current/d;b.current.position.y=O()(e,t/v.zoom*o,.1)})),Object(g.jsx)(w.Provider,{value:c,children:Object(g.jsx)("group",Object(a.a)(Object(a.a)({},r),{},{position:[0,-l*c*o,0],children:Object(g.jsx)("group",{ref:b,children:t})}))})}var C=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ambientLight",{intensity:.3}),Object(g.jsx)("directionalLight",{position:[10,10,5],intensity:1}),Object(g.jsx)("directionalLight",{castShadow:!0,position:[0,10,0],intensity:1.5,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),Object(g.jsx)("spotLight",{intensity:1,position:[1e3,0,0],castShadow:!0})]})},S=function(e){var t=e.domContent,c=e.children,o=e.bgColor,r=e.modelPath,i=e.position,a=Object(n.useRef)();Object(h.b)((function(){return a.current.rotation.y+=.01}));var j=Object(f.a)({threshold:0}),l=Object(s.a)(j,2),b=l[0],p=l[1];return Object(n.useEffect)((function(){p&&(document.body.style.background=o)}),[p]),Object(g.jsx)(y,{factor:1.5,offset:1,children:Object(g.jsxs)("group",{position:[0,i,0],children:[Object(g.jsx)("mesh",{ref:a,position:[0,-35,0],children:Object(g.jsx)(x,{url:r})}),Object(g.jsx)(d.a,{fullscreen:!0,portal:t,children:Object(g.jsx)("div",{ref:b,className:"container",children:Object(g.jsx)("h1",{className:"title",children:c})})})]})})};function k(){var e=Object(b.a)(),t=e.active,c=e.progress;return Object(u.useTransition)(t,{from:{opacity:1,progress:0},leave:{opacity:0},update:{progress:c}})((function(e,t){var c=e.progress,n=e.opacity;return t&&Object(g.jsx)(u.a.div,{className:"loading",style:{opacity:n},children:Object(g.jsx)("div",{className:"loading-bar-container",children:Object(g.jsx)(u.a.div,{className:"loading-bar",style:{width:c}})})})}))}function z(){var e=Object(n.useState)(),t=Object(s.a)(e,2),c=t[0],o=(t[1],Object(n.useRef)()),r=Object(n.useRef)(),i=function(e){return v.top.current=e.target.scrollTop};return Object(n.useEffect)((function(){i({target:r.current})}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(h.a,{concurrent:!0,colorManagement:!0,camera:{position:[0,0,120],fov:70},children:[Object(g.jsx)(C,{}),Object(g.jsxs)(n.Suspense,{fallback:null,children:[Object(g.jsxs)(S,{domContent:o,bgColor:"#f15946",modelPath:"/armchairYellow.gltf",position:250,children:[Object(g.jsx)("span",{children:"Meet the new "}),Object(g.jsx)("span",{children:"shopping experience "}),Object(g.jsx)("span",{children:"for online chairs"})]}),Object(g.jsxs)(S,{domContent:o,bgColor:"#571ec1",modelPath:"/armchairGreen.gltf",position:0,children:[Object(g.jsx)("span",{children:"Shit... we even"}),Object(g.jsx)("span",{children:"got different colors"})]}),Object(g.jsxs)(S,{domContent:o,bgColor:"#636567",modelPath:"/armchairGray.gltf",position:-250,children:[Object(g.jsx)("span",{children:"And yes"}),Object(g.jsx)("span",{children:"we even got"}),Object(g.jsx)("span",{children:"monochrome!"})]})]})]}),Object(g.jsx)(k,{}),Object(g.jsxs)("div",Object(a.a)(Object(a.a)({className:"scrollArea",ref:r,onScroll:i},c),{},{children:[Object(g.jsx)("div",{style:{position:"sticky",top:0},ref:o}),Object(g.jsx)("div",{style:{height:"".concat(100*v.pages,"vh")}})]}))]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(z,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.1282ad57.chunk.js.map